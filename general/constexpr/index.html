<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
    










    







<script defer language="javascript" type="text/javascript" src="/js/bundle.min.145453261a7755f5042a854c4213501d215a8fbe34c08d181c40f803f1315e74.js"></script>





  



    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
    <link rel="icon" href=favicon.png>

    
    





  





  
  
  


<!-- Open Graph image and Twitter Card metadata -->

<title itemprop="name">Dr. Elliot - Constexpr and Consteval</title>
<meta property="og:title" content=Dr.&#32;Elliot&#32;-&#32;Constexpr&#32;and&#32;Consteval />
<meta name="twitter:title" content=Dr.&#32;Elliot&#32;-&#32;Constexpr&#32;and&#32;Consteval />
<meta itemprop="name" content=Dr.&#32;Elliot&#32;-&#32;Constexpr&#32;and&#32;Consteval />
<meta name="application-name" content=Dr.&#32;Elliot&#32;-&#32;Constexpr&#32;and&#32;Consteval />
<meta property="og:site_name" content="Dr. Elliot" />


<meta name="description" content="" />
<meta itemprop="description" content="" />
<meta property="og:description" content="" />
<meta name="twitter:description" content="" />


<base href="https://mrdrelliot.github.io/general/constexpr/" />
<link rel="canonical" href="https://mrdrelliot.github.io/general/constexpr/" itemprop="url" />
<meta name="url" content="https://mrdrelliot.github.io/general/constexpr/" />
<meta name="twitter:url" content="https://mrdrelliot.github.io/general/constexpr/" />
<meta property="og:url" content="https://mrdrelliot.github.io/general/constexpr/" />


<meta property="og:updated_time" content="2024-08-16T13:46:48-05:00" />


<link rel="sitemap" type="application/xml" title="Sitemap" href='https://mrdrelliot.github.io/sitemap.xml' />

<meta name="robots" content="index,follow" />
<meta name="googlebot" content="index,follow" />



<meta property="fb:admins" content="" />


<meta name="apple-mobile-web-app-title" content="Dr. Elliot" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />






<meta name="generator" content="Hugo 0.132.2">


    
    

<link type="text/css" rel="stylesheet" href="/css/bundle.min.94a339836f89f0d25f31980cb6b0631da21e20af128308747ce44e0525eb16ef.css">


    
    <style>
    body {
        --sidebar-bg-color: #202020;
        --sidebar-img-border-color: #515151;
        --sidebar-p-color: #909090;
        --sidebar-h1-color: #FFF;
        --sidebar-a-color: #FFF;
        --sidebar-socials-color: #FFF;
        --text-color: #222;
        --bkg-color: #FAF9F6;
        --post-title-color: #303030;
        --list-color: #5A5A5A;
        --link-color: #268BD2;
        --date-color: #515151;
        --table-border-color: #E5E5E5;
        --table-stripe-color: #F9F9F9;
        --code-color: #000;
        --code-background-color: #E5E5E5;
        --code-block-color: #FFF;
        --code-block-background-color: #272822;
        --moon-sun-color: #FFF;
        --moon-sun-background-color: #515151;
    }
    body.dark-theme {
        --text-color: #EEE;
        --bkg-color: #121212;
        --post-title-color: #DBE2E9;
        --list-color: #9D9D9D;
        --link-color: #268BD2;
        --date-color: #9A9A9A;
        --table-border-color: #515151;
        --table-stripe-color: #202020;
        --code-color: #FFF;
        --code-background-color: #515151;
        --code-block-color: #FFF;
        --code-block-background-color: #272822;
    }
    body {
        background-color: var(--bkg-color);
    }
</style>

</head>

    <body class="dark-theme">
        <div class="wrapper">
            <aside class="sidebar">
    <div class="container sidebar-sticky">
        <div class="light-dark" align="right">
    <button class="btn-light-dark" title="Toggle light/dark mode">
        <svg class="moon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16">
            <path fill="currentColor" d="M6 .278a.768.768 0 0 1 .08.858a7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277c.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316a.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71C0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
        </svg>
        <svg class="sun" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16">
            <path fill="currentColor" d="M8 12a4 4 0 1 0 0-8a4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
        </svg>
    </button>
</div>

        <div class="sidebar-about">
    <h1 class="brand">
        
            <a href="https://mrdrelliot.github.io/">
                <img src="https://github.com/mrdrelliot.png" alt="brand image">
            </a>
        
        
            <a href="https://mrdrelliot.github.io/">
                <h1>Dr. Elliot</h1>
            </a>
        
    </h1>
    <p class="lead">
    A collection of things I've learned using Unreal Engine.
    </p>
</div>

        <nav>
    <ul class="sidebar-nav">

        
        
        
        
            

            
                
                
                    <li class="heading">
                        <a href="/about/">About</a>
                    </li>
                    
                
            
                
                
            
                
                
            
                
                
            
                
                
            
                
                
            
            
                
                
            
                
                
            
        
        
            

            
                
                
            
                
                
            
                
                
                    <li class="heading">
                        <a href="/general/">General</a>
                    </li>
                    
                        <li class="sub-heading">
                            
                        </li>
                        
                            <li class="bullet">
                                <a href="https://mrdrelliot.github.io/general/bpvscpp/">Blueprint vs C&#43;&#43;: Different Tools for Different Jobs</a>
                            </li>
                        
                            <li class="bullet">
                                <a href="https://mrdrelliot.github.io/general/constexpr/">Constexpr and Consteval</a>
                            </li>
                        
                            <li class="bullet">
                                <a href="https://mrdrelliot.github.io/general/inheritenceoveruse/">Overuse of Inheritence, alternatives.</a>
                            </li>
                        
                            <li class="bullet">
                                <a href="https://mrdrelliot.github.io/general/lambdadangers/">The dangers of Lambdas</a>
                            </li>
                        
                    
                
            
                
                
            
                
                
            
                
                
            
            
                
                
            
                
                
            
        
        
            

            
                
                
            
                
                
            
                
                
            
                
                
            
                
                
            
                
                
                    <li class="heading">
                        <a href="/networking/">Networking</a>
                    </li>
                    
                        <li class="sub-heading">
                            
                        </li>
                        
                            <li class="bullet">
                                <a href="https://mrdrelliot.github.io/networking/networkserialization/">Network Serialization</a>
                            </li>
                        
                    
                
            
            
                
                
            
                
                
            
        
        
            

            
                
                
            
                
                
            
                
                
            
                
                
            
                
                
                    <li class="heading">
                        <a href="/memory/">Memory</a>
                    </li>
                    
                        <li class="sub-heading">
                            
                        </li>
                        
                            <li class="bullet">
                                <a href="https://mrdrelliot.github.io/memory/tarrayallocators/">TArray Allocators</a>
                            </li>
                        
                            <li class="bullet">
                                <a href="https://mrdrelliot.github.io/memory/templateobjecttypes/">Templated Object Types</a>
                            </li>
                        
                            <li class="bullet">
                                <a href="https://mrdrelliot.github.io/memory/softreferences/">What Are Soft References?</a>
                            </li>
                        
                            <li class="bullet">
                                <a href="https://mrdrelliot.github.io/memory/buffers/">Working With Buffers</a>
                            </li>
                        
                    
                
            
                
                
            
            
                
                
            
                
                
            
        
        
            

            
                
                
            
                
                
                    <li class="heading">
                        <a href="/gas/">Gameplay Ability System</a>
                    </li>
                    
                        <li class="sub-heading">
                            
                        </li>
                        
                            <li class="bullet">
                                <a href="https://mrdrelliot.github.io/gas/intro/">Intro</a>
                            </li>
                        
                    
                
            
                
                
            
                
                
            
                
                
            
                
                
            
            
                
                
            
                
                
            
        

    </ul>
</nav>

        








    <a target="_blank" class="social" title="Discord" href="https://discord.gg/WTqSFrBg6t">
        <svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="0 0 24 24">
            <path fill="currentColor" d="M19.27 5.33C17.94 4.71 16.5 4.26 15 4a.09.09 0 0 0-.07.03c-.18.33-.39.76-.53 1.09a16.09 16.09 0 0 0-4.8 0c-.14-.34-.35-.76-.54-1.09c-.01-.02-.04-.03-.07-.03c-1.5.26-2.93.71-4.27 1.33c-.01 0-.02.01-.03.02c-2.72 4.07-3.47 8.03-3.1 11.95c0 .02.01.04.03.05c1.8 1.32 3.53 2.12 5.24 2.65c.03.01.06 0 .07-.02c.4-.55.76-1.13 1.07-1.74c.02-.04 0-.08-.04-.09c-.57-.22-1.11-.48-1.64-.78c-.04-.02-.04-.08-.01-.11c.11-.08.22-.17.33-.25c.02-.02.05-.02.07-.01c3.44 1.57 7.15 1.57 10.55 0c.02-.01.05-.01.07.01c.11.09.22.17.33.26c.04.03.04.09-.01.11c-.52.31-1.07.56-1.64.78c-.04.01-.05.06-.04.09c.32.61.68 1.19 1.07 1.74c.03.01.06.02.09.01c1.72-.53 3.45-1.33 5.25-2.65c.02-.01.03-.03.03-.05c.44-4.53-.73-8.46-3.1-11.95c-.01-.01-.02-.02-.04-.02zM8.52 14.91c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.84 2.12-1.89 2.12zm6.97 0c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.83 2.12-1.89 2.12z"/>
        </svg>
    </a>










    <a target="_blank" class="social" title="Email" href="mailto://mrdrelliot@gmail.com">
       <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1.2em" viewBox="0 0 485.211 485.211">
            <path fill="currentColor" d="M301.393,241.631L464.866,424.56H20.332l163.474-182.928l58.801,51.443L301.393,241.631z M462.174,60.651H23.027 l219.579,192.142L462.174,60.651z M324.225,221.67l160.986,180.151V80.792L324.225,221.67z M0,80.792v321.029L160.972,221.64 L0,80.792z"/>
       </svg>
    </a>




        <p class="footnote">
powered by <a target="_blank" href="https://gohugo.io">Hugo</a> | themed with <a target="_blank" href="https://github.com/lukeorth/poison">poison</a>
    <br>
    &copy; 2024 Dr. Elliot. All rights reserved.
</p>

  </div>
</aside>

            <main class="content container">
                <div class="post">
  <div class="info">
  <h1 class="post-title">
    <a href="https://mrdrelliot.github.io/general/constexpr/">Constexpr and Consteval</a>
  </h1>

  <div class="headline">
    <div>
      
      
      <time datetime=" 2024-08-16T13:46:48-0500" class="post-date">
        August 16, 2024
      </time>
      
      <span> - </span>
      <span class="reading-time">
        
          
        

        <span>5 mins read</span>
      </span>
    </div>

    
  </div>

  
  

  
</div>

  <h1 id="simple-way-to-possibly-increase-some-performance">Simple way to possibly increase some performance.</h1>
<p>This blog is a follow-up to this YouTube video: <a href="https://www.youtube.com/watch?v=8-VZoXn8f9U" target="_blank">https://www.youtube.com/watch?v=8-VZoXn8f9U</a></p>
<p>Consider the following code:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ConstexprExample.cpp : This file contains the &#39;main&#39; function. Program execution begins and ends there.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;chrono&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">Fibonacci</span>(<span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (n <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">return</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> Fibonacci(n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> Fibonacci(n <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">constexpr</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">Fibonacci_C</span>(<span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (n <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">1</span>) <span style="color:#66d9ef">return</span> n;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> Fibonacci_C(n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> Fibonacci_C(n <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">auto</span> Start <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>chrono<span style="color:#f92672">::</span>high_resolution_clock<span style="color:#f92672">::</span>now();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">constexpr</span> <span style="color:#66d9ef">int</span> num <span style="color:#f92672">=</span> <span style="color:#ae81ff">25</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">constexpr</span> <span style="color:#66d9ef">int</span> result_c <span style="color:#f92672">=</span> Fibonacci_C(num);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Constexpr Fibonacci: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> result_c <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#39;\n&#39;</span>;
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Time Taken: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>chrono<span style="color:#f92672">::</span>duration_cast<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>chrono<span style="color:#f92672">::</span>microseconds<span style="color:#f92672">&gt;</span>(std<span style="color:#f92672">::</span>chrono<span style="color:#f92672">::</span>high_resolution_clock<span style="color:#f92672">::</span>now() <span style="color:#f92672">-</span> Start).count() <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Start <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>chrono<span style="color:#f92672">::</span>high_resolution_clock<span style="color:#f92672">::</span>now();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> result <span style="color:#f92672">=</span> Fibonacci(num);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Normal Fibonacci: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> result <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#39;\n&#39;</span>;
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;Time Taken: &#34;</span> <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>chrono<span style="color:#f92672">::</span>duration_cast<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>chrono<span style="color:#f92672">::</span>microseconds<span style="color:#f92672">&gt;</span>(std<span style="color:#f92672">::</span>chrono<span style="color:#f92672">::</span>high_resolution_clock<span style="color:#f92672">::</span>now() <span style="color:#f92672">-</span> Start).count();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="performance-differences">Performance Differences</h2>
<p>Here we see we are evaluating a classic Fibonacci recursive function. Recursion like this can be incredibly expensive. On the order of O(2^n).</p>
<p>When comparing the two versions of the Fibonacci function—one using a normal recursive function (<code>Fibonacci</code>) and the other using <code>constexpr</code> (<code>Fibonacci_C</code>)—we can observe significant performance differences, especially as the input size increases.</p>
<h3 id="fibonacci-normal-function"><code>Fibonacci</code> (Normal Function)</h3>
<p>The <code>Fibonacci</code> function is evaluated at runtime. Every time the program is executed, the function goes through the recursive calls to compute the result, which can be quite costly. For example, with <code>n = 25</code>, the function performs thousands of recursive calls, resulting in significant computational overhead. As the input grows, the execution time increases exponentially, which is evident from the output when you measure the time taken for the function to compute the result.</p>
<h3 id="fibonacci_c-constexpr-function"><code>Fibonacci_C</code> (Constexpr Function)</h3>
<p>On the other hand, the <code>Fibonacci_C</code> function is a <code>constexpr</code> function. If the input is known at compile time (as in this case, with <code>num = 25</code>), the compiler can evaluate the function during compilation. This means the result is computed once, and the precomputed value is embedded directly into the binary, leading to a drastic reduction in runtime computation. The time measured in this scenario is almost negligible because the function itself isn&rsquo;t actually being executed at runtime—the value is already there.</p>
<h3 id="output-comparison">Output Comparison</h3>
<p>The difference in time taken for the two approaches might look something like this:</p>
<pre tabindex="0"><code>Constexpr Fibonacci: 75025
Time Taken: 211 microseconds
Normal Fibonacci: 75025   
Time Taken: 620 microseconds
</code></pre><p>These numbers will grow exponentially the larger the input number (number of recursive functions) is.</p>
<p>In this hypothetical output, we see that the <code>constexpr</code> version takes effectively no time at runtime because the work was done at compile time, whereas the normal function takes a considerable amount of time due to the nature of recursion.</p>
<h2 id="constexpr-vs-consteval"><code>constexpr</code> vs. <code>consteval</code></h2>
<h3 id="constexpr"><code>constexpr</code></h3>
<ul>
<li><strong>Definition</strong>: <code>constexpr</code> is a keyword introduced in C++11 that suggests to the compiler that the function can be evaluated at compile time. However, if the inputs are not known at compile time, the function will be executed at runtime.</li>
<li><strong>Usage</strong>: Use <code>constexpr</code> when you want a function to be evaluated at compile time if possible, but you&rsquo;re okay with it being evaluated at runtime if necessary.</li>
<li><strong>Pros</strong>:
<ul>
<li>Flexibility: It allows both compile-time and runtime evaluation.</li>
<li>Performance: If evaluated at compile time, it can reduce runtime overhead.</li>
</ul>
</li>
<li><strong>Cons</strong>:
<ul>
<li>Uncertainty: There’s no guarantee that the function will always be evaluated at compile time, depending on the context in which it is used.</li>
</ul>
</li>
</ul>
<h3 id="consteval"><code>consteval</code></h3>
<ul>
<li><strong>Definition</strong>: <code>consteval</code>, introduced in C++20, forces a function to be evaluated at compile time. If you try to call a <code>consteval</code> function with inputs that are not known at compile time, the code will not compile.</li>
<li><strong>Usage</strong>: Use <code>consteval</code> when you want to ensure that a function is always evaluated at compile time, without exception.</li>
<li><strong>Pros</strong>:
<ul>
<li>Guarantees: You can be certain that the function is never evaluated at runtime, which can be crucial for certain performance-critical or safety-critical applications.</li>
</ul>
</li>
<li><strong>Cons</strong>:
<ul>
<li>Rigidity: You lose the flexibility of runtime evaluation. If the inputs aren&rsquo;t known at compile time, you can&rsquo;t use a <code>consteval</code> function.</li>
</ul>
</li>
</ul>
<h2 id="when-to-use-constexpr-vs-consteval">When to Use <code>constexpr</code> vs. <code>consteval</code></h2>
<h3 id="when-to-use-constexpr">When to Use <code>constexpr</code>:</h3>
<ul>
<li>When you have functions that could benefit from compile-time evaluation but may also need to support runtime evaluation depending on the context.</li>
<li>For code that is part of a library where flexibility is important—allowing the user to decide if they want compile-time or runtime evaluation.</li>
</ul>
<h3 id="when-to-use-consteval">When to Use <code>consteval</code>:</h3>
<ul>
<li>When you require the result to be known at compile time, such as in the case of template metaprogramming or when defining constants that must be computed at compile time.</li>
<li>For performance-critical code where runtime computation would be prohibitively expensive, and you want to guarantee compile-time computation.</li>
</ul>
<h2 id="conclusion">Conclusion</h2>
<p>Understanding the differences between <code>constexpr</code> and <code>consteval</code> can significantly influence the performance of your code. <code>constexpr</code> offers flexibility but leaves the decision to the compiler, while <code>consteval</code> provides certainty at the cost of flexibility. Depending on the specific needs of your application—whether you prioritize performance, compile-time guarantees, or runtime flexibility—choosing the right tool for the job can lead to more efficient and maintainable code.</p>
<p>As always, profile your code and consider the specific context in which you&rsquo;re working to make the best decision.</p>

  
  <hr>
<div class="footer">
    
	    
            <a class="previous-post" href="https://mrdrelliot.github.io/general/inheritenceoveruse/?ref=footer"><span style="font-weight:bold;">« Previous</span><br>Overuse of Inheritence, alternatives.</a>
        
	    
            <div class="next-post">
                <a href="https://mrdrelliot.github.io/general/bpvscpp/?ref=footer"><span style="font-weight:bold;">Next »</span><br>Blueprint vs C++: Different Tools for Different...</a>
            </div>
        
    
</div>

  
</div>
            </main>
            
  
    <div class="article-toc ">
    <div class="toc-wrapper">
      <h4 id="contents"></h4>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#performance-differences">Performance Differences</a>
      <ul>
        <li><a href="#fibonacci-normal-function"><code>Fibonacci</code> (Normal Function)</a></li>
        <li><a href="#fibonacci_c-constexpr-function"><code>Fibonacci_C</code> (Constexpr Function)</a></li>
        <li><a href="#output-comparison">Output Comparison</a></li>
      </ul>
    </li>
    <li><a href="#constexpr-vs-consteval"><code>constexpr</code> vs. <code>consteval</code></a>
      <ul>
        <li><a href="#constexpr"><code>constexpr</code></a></li>
        <li><a href="#consteval"><code>consteval</code></a></li>
      </ul>
    </li>
    <li><a href="#when-to-use-constexpr-vs-consteval">When to Use <code>constexpr</code> vs. <code>consteval</code></a>
      <ul>
        <li><a href="#when-to-use-constexpr">When to Use <code>constexpr</code>:</a></li>
        <li><a href="#when-to-use-consteval">When to Use <code>consteval</code>:</a></li>
      </ul>
    </li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
</div>

  

        </div>
    </body>
</html>
